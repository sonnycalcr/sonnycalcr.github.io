+++
title = '真·自制输入法·打你所想'
date = 2024-10-24T01:37:54+08:00
categories = []
tags = ["Bilibili", "输入法", "C++"]
+++

按规矩，先上链接：<https://github.com/fanlumaster/fcitx5-FanIME>。

这里我们可以简单看一下代码，因为有了 fcitx5 这个框架，所以实现起来就更加轻松了。我们只需要关注核心的逻辑。

下面就是基本的功能的介绍啦。

## 小鹤双拼

这是最基本的功能，即一个标准的小鹤双拼。

关于辅助码，这里采用的方案基本是蓝天小雨点的方案。

## 单码辅助

对于所有的词条，默认都支持首字单码辅助。

对于两字词语，同时支持第二个字的单码辅助。比如：红杉，红衫。双码。混输。

## 双码辅助

对于单字和双字，按下 Tab 进行翻页时，可以使用双码进行辅助。比如，对弈的弈。双码。尤其是打单字的时候，对于输入人名的时候，非常方便。

## 造词时的辅助码

造词时也同时支持单码辅助和双码辅助。 

## 速度

绝大多数场景的候选词条生成速度在 1ms 以内。同时，最坏情况应该也不会超过 2ms，因为我目前的测试中还未出现这样的数据。

## 词库

采用了两个比较经典的开源词库进行整合。目前大概有 170 万个不重复的词条。

- <https://github.com/iDvel/rime-ice>
- <https://github.com/wuhgit/CustomPinyinDictionary>

## 开源

没错，输入法这个东西，你不开源，你还想怎样？窃取用户的隐私吗？

因为代码公开，所以，基于原始版本，你想怎么定制就怎么定制，至于隐私的问题，早就已经在九霄云外了，完全不用考虑。

## TODO

1、动态调频。这个完全是因为我懒，加上目前在使用辅助码的情况下，还没遇到需要翻页的情况，就暂时搁置了。

2、之前基于 HMM 做了一个长句联想，但是效果不达标，这个需要后续迭代。不过，也不急，因为目前的功能其实完全够用了。

3、基于 SLM 制作长句联想。

4、中英混输。

5、云输入。这个优先级最低。也还是因为目前已经可以使用得很舒适了。


